# Git 入門 - 初心者向けガイド

## 目次
1. [Gitとは](#gitとは)
2. [Gitの基本概念](#gitの基本概念)
3. [Gitのインストール](#gitのインストール)
4. [基本的なコマンド](#基本的なコマンド)
5. [CursorでのGit操作](#cursorでのgit操作)
6. [実践的な使い方](#実践的な使い方)
7. [よく使うコマンド一覧](#よく使うコマンド一覧)
8. [トラブルシューティング](#トラブルシューティング)

## Gitとは

Gitは、**バージョン管理システム**です。簡単に言うと、ファイルの変更履歴を記録・管理するためのツールです。

### なぜGitが必要？
- **変更履歴の保存**: いつ、誰が、何を変更したかを記録
- **過去の状態に戻る**: 問題が起きた時に以前の状態に戻せる
- **チーム開発**: 複数人で同じプロジェクトを安全に開発
- **バックアップ**: コードの安全な保管

## Gitの基本概念

### 1. リポジトリ（Repository）
- **ローカルリポジトリ**: 自分のPCにあるプロジェクトの履歴
- **リモートリポジトリ**: GitHubなどのサーバーにあるプロジェクトの履歴

### 2. コミット（Commit）
- ファイルの変更を記録する単位
- 「この時点での変更を保存する」という意味

### 3. ブランチ（Branch）
- 開発の流れを分岐させる機能
- メインの開発とは別に、新しい機能を試すことができる

### 4. ステージング（Staging）
- コミットするファイルを選ぶ作業
- 「このファイルの変更を記録する」と指定する

## Gitのインストール

### macOS
```bash
# Homebrewを使用
brew install git

# または公式サイトからダウンロード
# https://git-scm.com/download/mac
```

### Windows
1. [Git for Windows](https://git-scm.com/download/win) からダウンロード
2. インストーラーを実行

### Linux
```bash
# Ubuntu/Debian
sudo apt-get install git

# CentOS/RHEL
sudo yum install git
```

### 初期設定
```bash
# ユーザー名とメールアドレスを設定
git config --global user.name "あなたの名前"
git config --global user.email "あなたのメールアドレス"

# 設定の確認
git config --list
```

## 基本的なコマンド

### 1. リポジトリの作成・初期化

#### 新しいプロジェクトを始める
```bash
# プロジェクトフォルダを作成
mkdir my-project
cd my-project

# Gitリポジトリを初期化
git init
```

#### 既存のプロジェクトを取得
```bash
# GitHubからプロジェクトをクローン
git clone https://github.com/username/repository.git
```

### 2. 基本的な作業フロー

#### ファイルの変更を記録する
```bash
# 1. ファイルの状態を確認
git status

# 2. 変更したファイルをステージングエリアに追加
git add ファイル名
# または、すべての変更を追加
git add .

# 3. 変更をコミット（記録）
git commit -m "変更内容の説明"
```

#### 変更履歴を確認
```bash
# コミット履歴を表示
git log

# 簡潔に表示
git log --oneline

# 変更内容も表示
git log -p
```

### 3. ブランチの操作

#### ブランチの作成と切り替え
```bash
# 新しいブランチを作成して切り替え
git checkout -b 新しいブランチ名

# または（新しいGit）
git switch -c 新しいブランチ名

# ブランチ一覧を表示
git branch

# ブランチを切り替え
git checkout ブランチ名
# または
git switch ブランチ名
```

#### ブランチの統合
```bash
# 現在のブランチをmainブランチに統合
git checkout main
git merge ブランチ名
```

## 実践的な使い方

### 日常的な開発フロー

#### 1. 作業開始時
```bash
# 最新の変更を取得
git pull origin main

# 新しい機能用ブランチを作成
git checkout -b feature/新機能名
```

#### 2. 作業中
```bash
# 変更を確認
git status

# 変更をステージング
git add .

# コミット
git commit -m "新機能を追加"
```

#### 3. 作業完了時
```bash
# メインブランチに戻る
git checkout main

# 最新の変更を取得
git pull origin main

# ブランチを統合
git merge feature/新機能名

# 不要になったブランチを削除
git branch -d feature/新機能名
```

### よくあるシナリオ

#### 変更を取り消したい
```bash
# ファイルの変更を取り消し
git checkout -- ファイル名

# 最後のコミットを取り消し
git reset --soft HEAD~1
```

#### 間違ったブランチで作業してしまった
```bash
# 現在の変更を一時保存
git stash

# 正しいブランチに移動
git checkout 正しいブランチ名

# 保存した変更を適用
git stash pop
```

## よく使うコマンド一覧

### 基本操作
```bash
git init          # リポジトリを初期化
git clone URL     # リポジトリをクローン
git status        # 状態を確認
git add ファイル名  # ファイルをステージング
git commit -m "メッセージ"  # コミット
git log           # 履歴を表示
```

### ブランチ操作
```bash
git branch        # ブランチ一覧
git branch 名前    # ブランチ作成
git checkout 名前  # ブランチ切り替え
git merge 名前     # ブランチ統合
git branch -d 名前 # ブランチ削除
```

### リモート操作
```bash
git remote add origin URL  # リモート追加
git push origin ブランチ名  # プッシュ
git pull origin ブランチ名  # プル
git fetch origin           # 取得
```

### 変更管理
```bash
git diff          # 変更内容を表示
git stash         # 変更を一時保存
git stash pop     # 保存した変更を適用
git reset --soft HEAD~1  # コミット取り消し
```

## トラブルシューティング

### よくある問題と解決方法

#### 1. コミットメッセージを間違えた
```bash
# 最後のコミットメッセージを変更
git commit --amend -m "正しいメッセージ"
```

#### 2. 間違ったファイルをコミットした
```bash
# 最後のコミットからファイルを削除
git reset HEAD~1 ファイル名
git checkout -- ファイル名
```

#### 3. コンフリクト（競合）が発生した
```bash
# コンフリクトファイルを確認
git status

# ファイルを編集してコンフリクトを解決
# その後
git add .
git commit -m "コンフリクトを解決"
```

#### 4. リモートの変更を強制的に上書き
```bash
# 注意: 危険な操作です
git push --force origin ブランチ名
```

## ベストプラクティス

### 1. コミットメッセージ
- 簡潔で分かりやすく
- 何を変更したかを明確に
- 例: "ユーザー登録機能を追加"、"ログイン画面のバグを修正"

### 2. ブランチ戦略
- `main`: 本番環境用
- `develop`: 開発用
- `feature/機能名`: 新機能開発用
- `hotfix/修正内容`: 緊急修正用

### 3. コミットの頻度
- 小さな単位で頻繁にコミット
- 1つのコミットに複数の機能を含めない
- 動作確認後にコミット

### 4. プッシュ前の確認
```bash
# 変更内容を確認
git diff

# コミット履歴を確認
git log --oneline

# テストを実行
# プッシュ
git push origin ブランチ名
```

## 参考リンク
- [Git公式サイト](https://git-scm.com/)
- [GitHub](https://github.com/)
- [GitLab](https://gitlab.com/)
- [Pro Git Book](https://git-scm.com/book/ja/v2)

## 練習用リポジトリ
実際に手を動かして学習することをお勧めします：
1. GitHubでアカウントを作成
2. 新しいリポジトリを作成
3. 上記のコマンドを実際に試してみる

これでGitの基本は理解できるはずです。何か分からないことがあれば、お気軽にお聞かせください！

## CursorでのGit操作

Cursorは優れたGit統合機能を備えており、コマンドラインを使わずにGit操作ができます。

### 1. ソース管理パネル

#### アクセス方法
- **左サイドバーの「ソース管理」アイコン**（分岐したアイコン）をクリック
- **キーボードショートカット**: `Ctrl+Shift+G`（Windows/Linux）または `Cmd+Shift+G`（Mac）

#### 表示される情報
- **変更されたファイル**: 赤色（削除）、緑色（追加）、黄色（変更）
- **ステージングエリア**: コミット準備完了のファイル
- **ブランチ名**: 現在のブランチが表示

### 2. 基本的なGit操作

#### ファイルのステージング
1. **ソース管理パネル**を開く
2. **変更されたファイル**の横の「+」ボタンをクリック
3. または、ファイルを右クリック → **「ステージングに追加」**

#### すべての変更をステージング
- **「変更」セクション**の「+」ボタンをクリック
- または、**「すべての変更をステージング」**を選択

#### コミット
1. **ステージングエリア**にファイルがあることを確認
2. **コミットメッセージ**を入力
3. **「✓」ボタン**（チェックマーク）をクリック
4. または、**Ctrl+Enter**（Windows/Linux）または **Cmd+Enter**（Mac）

#### 変更の取り消し
- **ステージングされたファイル**の「-」ボタンをクリック
- または、ファイルを右クリック → **「ステージングから削除」**

### 3. ブランチ操作

#### ブランチの切り替え
1. **左下のブランチ名**をクリック
2. **ブランチ一覧**から選択
3. または、**「新しいブランチを作成」**を選択

#### 新しいブランチの作成
1. **ブランチ名**をクリック
2. **「新しいブランチを作成」**を選択
3. **ブランチ名**を入力
4. **Enter**を押す

#### ブランチの削除
1. **ブランチ名**をクリック
2. **削除したいブランチ**を右クリック
3. **「ブランチを削除」**を選択

### 4. リモート操作

#### プッシュ（Push）
1. **ソース管理パネル**の**「...」メニュー**をクリック
2. **「プッシュ」**を選択
3. または、**「同期の変更」**ボタンをクリック

#### プル（Pull）
1. **「...」メニュー**をクリック
2. **「プル」**を選択
3. または、**「同期の変更」**ボタンをクリック

#### フェッチ（Fetch）
1. **「...」メニュー**をクリック
2. **「フェッチ」**を選択

### 5. 変更の確認

#### 差分の表示
- **変更されたファイル**をクリック
- **差分ビュー**が開き、変更内容を確認可能

#### 行単位の操作
- **差分ビュー**で行の横の「+」ボタンをクリック
- その行だけをステージングに追加

#### ファイル全体の変更取り消し
- ファイルを右クリック → **「変更を破棄」**

### 6. 高度な操作

#### マージ
1. **「...」メニュー**をクリック
2. **「ブランチ」** → **「マージブランチ」**
3. **マージしたいブランチ**を選択

#### リベース
1. **「...」メニュー**をクリック
2. **「ブランチ」** → **「リベース」**
3. **リベース先のブランチ**を選択

#### ステッシュ（一時保存）
1. **「...」メニュー**をクリック
2. **「ステッシュ」** → **「ステッシュに保存」**
3. **ステッシュ名**を入力

#### ステッシュの適用
1. **「...」メニュー**をクリック
2. **「ステッシュ」** → **「ステッシュを適用」**
3. **適用したいステッシュ**を選択

### 7. 設定とカスタマイズ

#### Git設定の確認
1. **「...」メニュー**をクリック
2. **「設定」** → **「Git設定」**

#### 自動同期の設定
- **設定** → **「Git: Auto Sync」**を有効化
- プッシュとプルを自動で実行

#### コミット前の確認
- **設定** → **「Git: Confirm Sync」**を有効化
- 同期前に確認ダイアログを表示

### 8. 便利な機能

#### インラインGit情報
- **行番号の横**に変更情報が表示
- **追加された行**: 緑色の「+」
- **削除された行**: 赤色の「-」
- **変更された行**: 黄色の「~」

#### ステータスバーの情報
- **左下**: 現在のブランチ名
- **右下**: 同期状態（同期済み/未同期/競合）

#### ターミナル統合
- **Ctrl+`**（バッククォート）でターミナルを開く
- Gitコマンドも直接実行可能

### 9. トラブルシューティング（Cursor）

#### コンフリクトの解決
1. **コンフリクトファイル**が赤色で表示
2. ファイルを開いて**競合マーカー**を確認
3. **手動で編集**して競合を解決
4. **ファイルをステージング**に追加
5. **コミット**を実行

#### 認証エラー
1. **GitHubアカウント**でログイン
2. **Personal Access Token**を設定
3. **SSHキー**を設定（推奨）

#### 同期エラー
1. **「...」メニュー** → **「プル」**を実行
2. **コンフリクト**があれば解決
3. **再度プッシュ**を実行

### 10. ベストプラクティス（Cursor）

#### 効率的なワークフロー
1. **小さな変更**を頻繁にコミット
2. **意味のあるコミットメッセージ**を書く
3. **プッシュ前にプル**を実行
4. **ブランチ**を活用して機能開発

#### 視覚的な確認
- **ソース管理パネル**で変更を常に確認
- **差分ビュー**で変更内容をチェック
- **ステータスバー**で同期状態を監視

#### キーボードショートカット
- `Ctrl+Shift+G`: ソース管理パネル
- `Ctrl+Enter`: コミット
- `Ctrl+Shift+P`: コマンドパレット（Git操作も可能）
